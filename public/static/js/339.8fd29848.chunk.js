"use strict";(self.webpackChunkenvelope_frontend=self.webpackChunkenvelope_frontend||[]).push([[339],{8676:function(n,e,r){r.d(e,{Z:function(){return a}});var s="ErrorCard_errorCard__JwCDV",t=r(184),a=function(n){return(0,t.jsx)("div",{className:s,children:n.children})}},8339:function(n,e,r){r.r(e),r.d(e,{default:function(){return T}});var s=r(4165),t=r(5861),a=r(9439),c=r(2791),o=r(6871),i=r(3719),l=r(3108),d=r(9508),u="TransactionsLog_logContainer__7qt9s",h="TransactionsLog_emptyLogContainer__ti+dW",p="TransactionsLog_backButton__PK3TU",x="TransactionsLog_logListContainer__WjBhJ",j="TransactionsLog_logListItem__RdN9a",f="TransactionsLog_listTitle__dwAzG",_=r(3168),E=r(8676),m=r(1135),v=r(7831),N=r(184),T=function(){var n=(0,_.$)().t,e=(0,c.useContext)(l.V),r=(0,d.x)(),T=r.isLoading,g=r.error,C=r.sendRequest,L=r.clearError,k=(0,c.useState)([]),w=(0,a.Z)(k,2),y=w[0],O=w[1],Z=(0,o.s0)();(0,c.useEffect)((function(){try{var n=function(){var n=(0,t.Z)((0,s.Z)().mark((function n(){var r,t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new AbortController,n.next=3,C("https://envelope-project.herokuapp.com/api/1.0/transactions-log",r,"GET",null,{"Content-Type":"application/json",Authorization:"Bearer "+e.token});case 3:t=n.sent,O(t.data);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}catch(g){}}),[C,e.token]);if(T)return(0,N.jsx)(i.Z,{});if(g)return(0,N.jsxs)(E.Z,{children:[(0,N.jsx)("h2",{children:n("genericError")}),(0,N.jsx)(m.Z,{onClick:L,children:"Ok"})]});var V=y.length>0?y.map((function(e){return(0,N.jsxs)("li",{className:j,children:[(0,N.jsx)("h2",{children:e.date}),(0,N.jsx)("hr",{}),e.info.map((function(e){var r=parseFloat(e.amount);return(0,N.jsxs)("div",{children:[(0,N.jsxs)("p",{children:[(0,N.jsxs)("span",{className:f,children:[n("transactionType"),":"]})," ",n(e.transaction_type)]}),e["ENVELOPE SOURCE"]?(0,N.jsxs)("p",{children:[(0,N.jsxs)("span",{className:f,children:[n("from"),":"]})," ",e["ENVELOPE SOURCE"]]}):null,"withdraw"===e.transaction_type?(0,N.jsxs)("p",{children:[(0,N.jsxs)("span",{className:f,children:[n("from"),":"]})," ",e["ENVELOPE DESTINATION"]]}):(0,N.jsxs)("p",{children:[(0,N.jsxs)("span",{className:f,children:[n("to"),":"]})," ",e["ENVELOPE DESTINATION"]]}),(0,N.jsxs)("p",{children:[(0,N.jsxs)("span",{className:f,children:[n("amount"),":"]})," ","withdraw"===e.transaction_type?"-".concat(n("currency")," ").concat(r.toFixed(2)):"".concat(n("currency")," ").concat(r.toFixed(2))," "]}),(0,N.jsx)("hr",{})]},e.transaction_id)}))]},e.date)})):[];return!T&&y.length>0?(0,N.jsxs)("div",{className:u,children:[(0,N.jsx)("h1",{children:n("transactions")}),(0,N.jsx)("div",{className:x,children:(0,N.jsx)("ul",{children:V})})]}):(0,N.jsxs)("div",{className:h,children:[(0,N.jsx)("h1",{children:n("noTransactions")}),(0,N.jsx)(m.Z,{className:p,onClick:function(){Z("/".concat(v.H.envelopes,"/").concat(v.H.userEnvelopes))},children:n("backToEnvelopes")})]})}}}]);
//# sourceMappingURL=339.8fd29848.chunk.js.map